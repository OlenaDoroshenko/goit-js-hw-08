{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBACpCC,QAAQC,IAAIJ,GAEZA,EAAKK,iBAAiB,SAAS,EAAAP,EAAAQ,WAO/B,SAAkBC,GAChB,IAAMC,EAAc,CAClBC,MAAOT,EAAKU,SAASD,MAAME,MAC3BC,QAASZ,EAAKU,SAASE,QAAQD,OAPNE,EAkBhBL,EAjBXM,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUJ,IAD1C,IAAUA,C,GAHqB,MAClDb,EAAKK,iBAAiB,UAiCtB,SAAoBE,GAClBA,EAAEW,iBACFf,QAAQC,IAAI,CACVK,MAAOT,EAAKU,SAASD,MAAME,MAC3BC,QAASZ,EAAKU,SAASE,QAAQD,QAEjCX,EAAKmB,QACLL,aAAaM,WAAW,sB,IAjB1BC,OAAOC,OAAS,WACd,GAAIR,aAAaS,QAAQ,uBAAwB,CAC/C,IAAMC,EAAkBV,aAAaS,QAAQ,uBACvCE,EAAwBT,KAAKU,MAAMF,GACjCf,EAAmBgB,EAAnBhB,MAAOG,EAAYa,EAAZb,QACfZ,EAAKU,SAASD,MAAME,MAAQF,EAC5BT,EAAKU,SAASE,QAAQD,MAAQC,C","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle, debounce } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconsole.log(form);\n\nform.addEventListener('input', throttle(saveData, 500));\nform.addEventListener('submit', submitForm);\n\nconst addStorage = function (data) {\n  localStorage.setItem('feedback-form-state', JSON.stringify(data));\n};\n\nfunction saveData(e) {\n  const currentData = {\n    email: form.elements.email.value,\n    message: form.elements.message.value,\n  };\n\n  /*   \n  const {\n    elements: { email, message },\n  } = e.currentTarget;\n  const currentData = {\n    email: email.value,\n    message: message.value,\n  };*/\n  addStorage(currentData);\n}\n\nwindow.onload = function () {\n  if (localStorage.getItem('feedback-form-state')) {\n    const dataFromStorage = localStorage.getItem('feedback-form-state');\n    const parsedDataFromStorage = JSON.parse(dataFromStorage);\n    const { email, message } = parsedDataFromStorage;\n    form.elements.email.value = email;\n    form.elements.message.value = message;\n  }\n};\n\nfunction submitForm(e) {\n  e.preventDefault();\n  console.log({\n    email: form.elements.email.value,\n    message: form.elements.message.value,\n  });\n  form.reset();\n  localStorage.removeItem('feedback-form-state');\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","console","log","addEventListener","throttle","e","currentData","email","elements","value","message","data","localStorage","setItem","JSON","stringify","preventDefault","reset","removeItem","window","onload","getItem","dataFromStorage","parsedDataFromStorage","parse"],"version":3,"file":"03-feedback.84b59ae4.js.map"}
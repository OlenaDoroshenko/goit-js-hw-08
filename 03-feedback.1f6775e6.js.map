{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAEpCF,EAAKG,iBAAiB,SAAS,EAAAL,EAAAM,WAO/B,SAAkBC,GAChB,IAAMC,EAAc,CAClBC,MAAOP,EAAKQ,SAASD,MAAME,MAC3BC,QAASV,EAAKQ,SAASE,QAAQD,OAPNE,EAkBhBL,EAjBXM,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUJ,IAD1C,IAAUA,C,GAHqB,MAClDX,EAAKG,iBAAiB,UAiCtB,SAAoBE,GAClBA,EAAEW,iBACFC,QAAQC,IAAI,CACVX,MAAOP,EAAKQ,SAASD,MAAME,MAC3BC,QAASV,EAAKQ,SAASE,QAAQD,QAEjCT,EAAKmB,QACLP,aAAaQ,WAAW,sB,IAjB1BC,OAAOC,OAAS,WACd,GAAIV,aAAaW,QAAQ,uBAAwB,CAC/C,IAAMC,EAAkBZ,aAAaW,QAAQ,uBACvCE,EAAwBX,KAAKY,MAAMF,GACjCjB,EAAmBkB,EAAnBlB,MAAOG,EAAYe,EAAZf,QACfV,EAAKQ,SAASD,MAAME,MAAQF,EAC5BP,EAAKQ,SAASE,QAAQD,MAAQC,C","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle, debounce } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', throttle(saveData, 500));\nform.addEventListener('submit', submitForm);\n\nconst addStorage = function (data) {\n  localStorage.setItem('feedback-form-state', JSON.stringify(data));\n};\n\nfunction saveData(e) {\n  const currentData = {\n    email: form.elements.email.value,\n    message: form.elements.message.value,\n  };\n\n  /*   \n  const {\n    elements: { email, message },\n  } = e.currentTarget;\n  const currentData = {\n    email: email.value,\n    message: message.value,\n  };*/\n  addStorage(currentData);\n}\n\nwindow.onload = function () {\n  if (localStorage.getItem('feedback-form-state')) {\n    const dataFromStorage = localStorage.getItem('feedback-form-state');\n    const parsedDataFromStorage = JSON.parse(dataFromStorage);\n    const { email, message } = parsedDataFromStorage;\n    form.elements.email.value = email;\n    form.elements.message.value = message;\n  }\n};\n\nfunction submitForm(e) {\n  e.preventDefault();\n  console.log({\n    email: form.elements.email.value,\n    message: form.elements.message.value,\n  });\n  form.reset();\n  localStorage.removeItem('feedback-form-state');\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","addEventListener","throttle","e","currentData","email","elements","value","message","data","localStorage","setItem","JSON","stringify","preventDefault","console","log","reset","removeItem","window","onload","getItem","dataFromStorage","parsedDataFromStorage","parse"],"version":3,"file":"03-feedback.1f6775e6.js.map"}